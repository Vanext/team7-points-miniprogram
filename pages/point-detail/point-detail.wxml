<!--pages/point-detail/point-detail.wxml-->
<view class="container">
  <view wx:if="{{loading && records.length === 0}}" class="loading-state">
    <text>加载中...</text>
  </view>

  <scroll-view wx:else scroll-y class="record-scroll" enable-flex>
    <view class="record-list">
      <block wx:for="{{records}}" wx:key="_id">
        <view class="record-card">
          <view class="record-main">
            <text class="record-reason">{{item.displayReason}}</text>
            <text class="record-time">{{item.formattedSubmitTime}}</text>
          </view>
          <view class="record-amount {{item.points > 0 ? 'plus' : 'minus'}}">
            {{item.points > 0 ? '+' : ''}}{{item.points}}
          </view>
        </view>
      </block>
      
      <view wx:if="{{isEmpty}}" class="empty-state">
        <text>暂无积分记录</text>
      </view>
      
       <view class="list-footer" wx:if="{{records.length > 0}}">
         <text class="no-more">—— 仅展示最近记录 ——</text>
      </view>
    </view>
  </scroll-view>
</view>
